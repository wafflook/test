(function(t){var e={install:function(t,e){t.component("DatGui",{template:"          <div>            <div ref='container'>              <slot>             </slot>           </div>         </div>        ",name:"DatGui",props:{expand:{type:Boolean,default:undefined}},watch:{expand:function(t){this.$_gui&&this.$_gui.expand(t)}},data:function(){return{context:{}}},provide:function(){return{context:this.context}},created:function(){this.$_gui=new dat.GUI({autoPlace:false})},mounted:function(){this.$refs.container.appendChild(this.$_gui.domElement);if(this.expand!==undefined){this.$_gui.expand(this.expand)}},beforeDestroy:function(){this.$_gui&&this.$_gui.destroy()}});t.component("DatFolder",{template:"          <span>            <slot>           </slot>         </span>        ",props:{name:{type:String,default:"folder"},open:{type:Boolean,default:false},expand:{type:Boolean,default:undefined},title:{type:String,default:""}},watch:{name:function(t){this.$_gui&&(this.$_gui.name=t)},open:function(t){this.$_gui&&this.$_gui[this.open?"open":"close"]()},expand:function(t){this.$_gui&&this.$_gui.expand(t)}},created:function(){this.$_gui=this.$parent.$_gui.addFolder(this.name,this.title)},mounted:function(){if(this.open!==undefined){this.$_gui[this.open?"open":"close"]()}if(this.expand!==undefined){this.$_gui.expand(this.expand)}}});t.component("DatValue",{name:"DatValue",template:"          <span>         </span>        ",inheritAttrs:false,mounted:function(){if("__input"in this.$_controller){if(this.cleave){return}this.cleave=new Cleave(this.$_controller.__input,this.getOption(this.option))}},methods:{onValueChanged:function(t){let e=this.raw?t.target.rawValue:t.target.value;this.$emit("input",e);if(typeof this.onValueChangedFn==="function"){this.onValueChangedFn.call(this,t)}},getOption:function(t){this.onValueChangedFn=t.onValueChanged;return Object.assign({},t,{onValueChanged:this.onValueChanged})},onBlur:function(t){this.$emit("blur",this.value)}},data:function(){return{cleave:null,onValueChangedFn:null}},props:{option:{type:Object,default:function(){return{}}},raw:{type:Boolean,default:true},value:{type:[Number,String,Boolean,undefined],default:undefined},label:{type:String,default:undefined},max:{type:Number,default:null},min:{type:Number,default:null},step:{type:Number,default:null},empty:{type:Number,default:null},values:{type:[Object,Array],default:function(){return null}},placeholder:{type:String,default:""},readonly:{type:Boolean,default:null},password:{type:Boolean,default:null},title:{type:String,default:null},type:{type:String,default:null},comment:{type:String,default:null}},inject:["context"],computed:{valueInner:function(){return this.context&&this.context[this.label]}},beforeUnmount:function(){if(!this.cleave){return}this.cleave.destroy();this.cleave=null;this.onValueChangedFn=null},watch:{option:{deep:true,handler:function(t){this.cleave.destroy();this.cleave=new Cleave(this.$_controller.__input,this.getOption(t));this.cleave.setRawValue(this.value)}},value:function(t){if(!this.cleave){return}if(this.raw&&t===this.cleave.getRawValue()){return}if(!this.raw&&t===this.$_controller.__input.value){return}this.cleave.setRawValue(t);this.$_controller&&this.$_controller.setValue(t);this.$emit("input",t)},valueInner:function(t){this.$emit("input",t)},label:function(t){this.$_controller&&this.$_controller.name(t)},max:function(t){this.$_controller&&this.$_controller.max(t);this.$_controller.updateDisplay()},min:function(t){this.$_controller&&this.$_controller.min(t);this.$_controller.updateDisplay()},step:function(t){this.$_controller&&this.$_controller.step(t);this.$_controller.updateDisplay()},empty:function(t){this.$_controller&&this.$_controller.empty(t)},values:function(t){var e=this;this.$_controller=this.$_controller.options(t);this.$_controller.onFinishChange((function(t){var n=this.__select.selectedOptions.length>0;if(n){e.$emit("finishchange",t)}}));this.$_controller.updateDisplay()},placeholder:function(t){this.$_controller&&this.$_controller.placeholder(t)},readonly:function(t){this.$_controller&&this.$_controller.readonly(t)},password:function(t){this.$_controller&&this.$_controller.password(t)},comment:function(t){this.$_controller&&this.$_controller.comment(t)},title:function(t){this.$_controller&&this.$_controller.title(t)},type:function(t){this.$_controller&&this.$_controller.type(t)}},beforeDestroy:function(){this.$_controller.remove()},created:function(){var t=this;if(this.value===undefined){this.$set(this.context,this.label,(function(){t.$emit("click")}));this.$_controller=this.$parent.$_gui.add(this.context,this.label);return}this.$set(this.context,this.label,this.value);if(this.values){this.$_controller=this.$parent.$_gui.add(this.context,this.label,this.values);this.$_controller.onFinishChange((function(e){var n=this.__select.selectedOptions.length>0;if(n){t.$emit("finishchange",e)}}))}else if(this.min!=null&&this.max!=null&&this.step!=null){if(this.empty!=null){this.$_controller=this.$parent.$_gui.add(this.context,this.label,this.min,this.max,this.step,this.empty)}else{this.$_controller=this.$parent.$_gui.add(this.context,this.label,this.min,this.max,this.step)}this.$_controller.onFinishChange((function(e){t.$emit("finish-change",e)}));this.$_controller.onChange((function(e){t.$emit("change",e)}));this.$_controller.empty(this.empty)}else{this.$_controller=this.$parent.$_gui.add(this.context,this.label);this.$_controller.onFinishChange((function(e){t.$emit("finish-change",e)}));this.$_controller.onChange((function(e){t.$emit("change",e)}));this.placeholder&&this.$_controller.placeholder(this.placeholder);this.readonly&&this.$_controller.readonly(this.readonly);this.password&&this.$_controller.password(this.password);this.type&&this.$_controller.type(this.type);for(k in this.$attrs){this.$_controller.__input.setAttribute(k,this.$attrs[k])}}this.comment&&this.$_controller.comment(this.comment);this.title&&this.$_controller.title(this.title)}});t.component("DatPlotter",{template:"           <span>          </span>        ",name:"DatPlotter",props:{value:{type:Number,default:0},label:{type:String,default:undefined},max:{type:Number,default:10},period:{type:Number,default:500},type:{type:String,default:"line"},fgColor:{type:String,default:"#fff"},bgColor:{type:String,default:"#000"}},inject:["context"],computed:{valueInner:function(){return this.context&&this.context[this.label]}},watch:{value:function(t){this.$_controller&&this.$_controller.setValue(t)},valueInner:function(t){switch(true){case this.$_controller instanceof dat.controllers.NumberController:case this.$_controller instanceof dat.controllers.NumberControllerBox:this.$emit("input",t==this.empty?"":t);break;default:this.$emit("input",t)}}},created:function(){this.$set(this.context,this.label,this.value);this.$_controller=this.$parent.$_gui.addPlotter(this.context,this.label,this.max,this.period,this.type,this.fgColor,this.bgColor)}});t.component("DatColor",{template:"          <span>         </span>        ",name:"DatColor",props:{value:{type:[String,Array,Object]},label:{type:String}},inject:["context"],computed:{valueInner:function(){return this.context&&this.context[this.label]}},watch:{value:function(t){this.$_controller&&this.$_controller.setValue(t)},valueInner:function(t){this.$emit("input",t)}},created:function(){this.$set(this.context,this.label,this.value);this.$_controller=this.$parent.$_gui.addColor(this.context,this.label)}});t.component("DatText",{template:"          <span>         </span>        ",name:"DatText",props:{value:{type:String},label:{type:String},placeholder:{type:String,default:""},readonly:{type:Boolean,default:false}},inject:["context"],computed:{valueInner:function(){return this.context&&this.context[this.label]}},watch:{value:function(t){this.$_controller&&this.$_controller.setValue(t)},valueInner:function(t){this.$emit("input",t)},label:function(t){this.$_controller&&this.$_controller.name(t)},placeholder:function(t){this.$_controller&&this.$_controller.placeholder(t)},readonly:function(t){this.$_controller&&this.$_controller.readonly(t)}},created:function(){this.$set(this.context,this.label,this.value);this.$_controller=this.$parent.$_gui.addText(this.context,this.label);this.$_controller.placeholder(this.placeholder);this.$_controller.readonly(this.readonly)}});t.component("DatObject",{template:"          <span>         </span>        ",name:"DatObject",props:{value:{type:[Object,Array]},label:{type:String}},inject:["context"],computed:{valueInner:function(){return this.value}},watch:{value:function(t){this.$_controller&&this.$_controller.setValue(t)},valueInner:function(t){this.$emit("input",t)},label:function(t){this.$_controller&&this.$_controller.name(t)}},created:function(){var t=this;this.$_controller=this.$parent.$_gui.addObject(this.value,this.label)}});t.component("DatImage",{template:"          <span>         </span>        ",name:"DatImage",props:{value:{type:String},label:{type:String}},inject:["context"],computed:{valueInner:function(){return this.context&&this.context[this.label]}},watch:{label:function(t){this.$_controller&&this.$_controller.name(t)}},created:function(){var t=this;this.$set(this.context,this.label,this.value);this.$_controller=this.$parent.$_gui.addImage(this.context,this.label);this.$_controller.onChange((function(e){if(e){t.$emit("change",e.src);t.$emit("input",e.src)}}))}})}};if(typeof module==="object"&&typeof module.exports==="object"){module.exports=e}else if(typeof define==="function"&&define.amd){define("VueDatGui",e)}else{t.VueDatGui=e}})(this);